function updateStatus(e){var t=document.getElementById("notif_status");t.innerHTML=e.what+" - "+Math.ceil(1e3*e.i/e.total)/10+"..."}function submitAction(e){e.preventDefault();var t=document.getElementById("notification");t.style.color="",t.innerHTML="Please wait...";var n=document.getElementById("getform"),o=md5(n.querySelector("[name=userin]").value);jQuery.post("getpass.php","userhash="+o+"&account="+md5(n.querySelector("[name=account]").value),updateEncrypted,"text")}function updateEncrypted(e){var t=document.getElementById("password_input").value,n=document.getElementById("notification"),o=e.split("\n")[0];if("VALID "==o.substring(0,6)){var r,c=o.substring(6);document.getElementById("notification").innerHTML+=' <span id="notif_status"></span>',triplesec.decrypt({data:new triplesec.Buffer(c,"base64"),key:new triplesec.Buffer(t),progress_hook:updateStatus},function(e,t){e?(n.style.color="red",n.innerHTML="Incorrect password.",console.log(e)):(r=t.toString(),n.style.color="green",n.innerHTML="Done.",document.getElementById("decrypted").value=r)})}else n.style.color="red",n.innerHTML="Error getting entry: "+o}function copyAction(){var e=document.getElementById("decrypted");e.disabled="",e.type="text",e.select(),document.execCommand("copy"),e.type="password",e.disabled="true"}